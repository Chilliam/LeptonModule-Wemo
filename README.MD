What You'll Need
----------------

1. Raspberry Pi
2. FLIR Lepton
3. Belkin WeMo Switch
4. Wireless Router
5. Ouimeaux Open Source Library

Setting up the Belkin WeMo Switch
---------------------------------

Check this link: 
http://belkin.force.com/Articles/articles/en_US/Troubleshooting_and_Tutorials/Setting-up-your-WeMo-Insight

Setting Up the Rasberry Pi
--------------------------

1. Make sure you have the latest version of Python-dev
   by running this command from the Terminal.

       > sudo apt-get install python-dev

2. Run this command to install Ouimeaux

       > sudo easy_install ouimeaux

3. When the installation has finished, check to see if 
   you can find your WeMo device by running the command

       > wemo list
       
       Switch: Living Room

Running the Program
-------------------

1. Get the latest repository from:

       https://github.com/Chilliam/LeptonModule-Wemo/

2. Navigate to the directory “raspberrypi_video” by 
   navigating to the folder where you saved the program and running

       > cd /LeptonModule-Wemo/software/raspberrypi_video

3. Compile the project by running “make”.

       > make

4. Run the program using the following command:

       > ./raspberrypi_video

Functionality
-------------

This demo allows a FLIR Lepton to interact with a Belkin WeMo 
Switch that is configured on the same network as the Raspberry 
Pi. It will control the switch according to a threshold.

Before the video starts, it searches for WeMo devices on the 
network and connects to the first Switch that it finds. When one 
is found, it will output the name of the device in the terminal.

It polls for the maximum value of the Lepton image, and when 
found, the corresponding row and column numbers are saved. Then, 
it calculates the average value of the pixels around that maximum 
with a configurable radius. 

When the average value of the region of interest exceeds the 
threshold, it will send a signal to the outlet to turn on. When 
the average value falls below the threshold, it will send a signal 
to turn the outlet off.

Notable Functions
-----------------

The code for the WeMo interactivity is contained in LeptonThread.cpp

wemoGetList()
    Gets a list of all local WeMo devices as a char* type. The devices 
    are listed in the following format, one device per line: 
    
    [Type]: [DeviceName]
    
        Input: None
        
        Output: char* with all devices separated by a newline char ‘\n’
        

wemoGetFirstSwitch()
    Takes the char* generated by wemoGetList() and finds the first Switch 
    device.
    
        Input: char* with all devices separated by a newline char ‘\n’
        
        Output: char* of the device name of the first switch
        

wemoToggle()
    Turns a WeMo device on or off depending on what parameter is passed in.
    
        Input: char* device name; const char* “on” or “off”
        
        Output: None




